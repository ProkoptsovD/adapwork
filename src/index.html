<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Page title</title>
    <link
      preload
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"
    />

    <link rel="stylesheet" href="./sass/index.scss" />
  </head>
  <body>
    <include src="./html/header.html"></include>
    <include src="./html/homepage/hero.html"></include>
    <include src="./html/homepage/about-section.html"></include>
    <include src="./html/homepage/chairs-section.html"></include>
    <include src="./html/homepage/tables-section.html"></include>
    <include src="./html/homepage/accessories-section.html"></include>
    <include src="./html/homepage/popular.html"></include>
    <include src="./html/homepage/follow-social-media.html"></include>
    <include src="./html/footer.html"></include>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script>
      const { matches } = window.matchMedia('(min-width: 1244px)');
      const direction = matches ? 'vertical' : 'horizontal';

      const chairsSwiper = new Swiper('.mySwiper-chairs', {
        on: {
          beforeTransitionStart: function () {
            animateBackground();
          },
          slideChangeTransitionEnd: function () {
            resetBackground();
          },
        },
        spaceBetween: 16,
        direction,
        loop: true,
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
          renderBullet: function (index, className) {
            return '<span class="' + className + '">' + '</span>';
          },
        },
        navigation: {
          nextEl: '.button-next',
          prevEl: '.button-prev',
        },
      });

      function animateBackground() {
        var activeSlideIndex = chairsSwiper.activeIndex;
        var activeBullet = document.querySelector(
          '.swiper-pagination-bullet-active'
        );

        activeBullet.style.transition = 'background-color 0.5s';
        activeBullet.style.backgroundColor = 'var(--clr-soft-white)';
      }

      function resetBackground() {
        var activeBullet = document.querySelector(
          '.swiper-pagination-bullet-active'
        );

        activeBullet.style.transition = '';
      }

      const tablesSwiper = new Swiper('.mySwiper-tables', {
        spaceBetween: 16,
        loop: true,
        direction,
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
          renderBullet: function (index, className) {
            return '<span class="' + className + '">' + '</span>';
          },
        },
        navigation: {
          nextEl: '.button-next',
          prevEl: '.button-prev',
        },
      });

      const popularSwiper = new Swiper('.mySwiper-popular', {
        spaceBetween: 30,
        slidesPerView: 'auto',
        navigation: {
          nextEl: '.popular-section__arrow-button--next',
          prevEl: '.popular-section__arrow-button--prev',
        },
        breakpoints: {
          1244: {
            slidesPerView: 4,
            spaceBetween: 16,
          },
        },
      });
    </script>
    <script type="module" src="./index.js"></script>
  </body>
</html>
